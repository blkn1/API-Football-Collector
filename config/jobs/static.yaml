jobs:
  - job_id: "bootstrap_timezones"
    type: "static_bootstrap"
    enabled: true
    priority: "HIGH"
    endpoint: "/timezone"
    params: {}
    interval:
      type: "cron"
      cron: "0 0 1 * *"  # Monthly at 01:00 UTC
    target_layer: "raw+core"
    coverage_target:
      endpoint: "/timezone"
      min_count: 1

  - job_id: "bootstrap_countries"
    type: "static_bootstrap"
    enabled: true
    priority: "HIGH"
    endpoint: "/countries"
    params: {}
    interval:
      type: "cron"
      cron: "0 0 1 * *"  # Monthly at 01:00 UTC
    target_layer: "raw+core"
    coverage_target:
      endpoint: "/countries"
      min_count: 100

  # NOTE (prod ops):
  # - bootstrap_leagues / bootstrap_teams are intentionally disabled by default.
  #   Reason: they can be expensive and create unnecessary UPSERT churn if scheduled weekly.
  # - When you DO enable them for a one-off refresh, you generally should NOT duplicate
  #   tracked league lists here.
  #   Config-driven inheritance: if tracked_leagues is left empty below, the scheduler will
  #   automatically inherit league IDs from `config/jobs/daily.yaml -> tracked_leagues[*].id`.
  # - Season: if params.season is null, scheduler will infer it ONLY when unambiguous
  #   (top-level daily.yaml season exists, or all tracked_leagues share the same season).
  #   If daily tracked_leagues contains mixed seasons (e.g. 2025 + 2026), set params.season explicitly.

  - job_id: "bootstrap_leagues"
    type: "static_bootstrap"
    enabled: false
    priority: "HIGH"
    endpoint: "/leagues"
    params:
      season: null
    interval:
      type: "cron"
      cron: "0 2 * * 0"  # Weekly on Sunday 02:00 UTC
    target_layer: "raw+core"
    dependencies:
      - "bootstrap_countries"
    coverage_target:
      endpoint: "/leagues"
      season: null
      min_count: 5
    filters:
      tracked_leagues: []

  - job_id: "bootstrap_teams"
    type: "static_bootstrap"
    enabled: false
    priority: "HIGH"
    endpoint: "/teams"
    params:
      season: null
    interval:
      type: "cron"
      cron: "0 3 * * 0"  # Weekly on Sunday 03:00 UTC
    target_layer: "raw+core"
    dependencies:
      - "bootstrap_leagues"
    coverage_target:
      endpoint: "/teams"
      season: null
      min_count: 2000
    mode:
      type: "per_league"
      tracked_leagues: []


